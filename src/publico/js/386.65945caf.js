"use strict";(self["webpackChunktienda_martin_front"]=self["webpackChunktienda_martin_front"]||[]).push([[386],{2386:function(t,e,n){n.r(e),n.d(e,{default:function(){return v}});var r=function(){var t=this,e=t._self._c;return e("div",[t.comprasPendientes&&t.comprasPendientes.length>0?e("div",[e("CarritoTablaComponente",{attrs:{compras:t.comprasPendientes}}),e("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.confirmarCompra()}}},[t._v(" Confirmar Compra ")])],1):e("div",[e("h4",[t._v(t._s(t.cliente.nombre)+" no tiene productos en el carrito")])]),e("button",{staticClass:"btn btn-secondary mt-5",on:{click:function(e){return t.verClientes()}}},[t._v(" Ver clientes ")])])},o=[],a=(n(7658),function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-5"},[e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.compras,(function(n){return e("tr",{key:n.codigo},[e("td",[t._v(t._s(n.descripcionProducto))]),e("td",[t._v(t._s(n.codigoProducto))]),e("td",[t._v(t._s(n.valorProducto))]),e("td",[t._v(t._s(n.fecha))]),e("td",[e("button",{staticClass:"btn btn-outline-danger",on:{click:function(e){return t.eliminarCompra(n)}}},[t._v(" Eliminar ")])])])})),0)])])}),s=[function(){var t=this,e=t._self._c;return e("thead",{staticClass:"thead-light"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Descripción")]),e("th",{attrs:{scope:"col"}},[t._v("Código")]),e("th",{attrs:{scope:"col"}},[t._v("Valor")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")])])])}],i={props:{compras:[]},methods:{async eliminarCompra(t){const e=await this.axios.delete("/detalle_compra/"+t.codigoProducto+"/"+t.numero);e&&(alert(e.data.mensaje),window.location.reload())}}},c=i,l=n(1001),d=(0,l.Z)(c,a,s,!1,null,null,null),u=d.exports,m=n(3822),p={name:"carritoView",components:{CarritoTablaComponente:u},data(){return{comprasPendientes:[]}},created(){this.verComprasPendientes()},computed:{...(0,m.Se)(["cliente"])},methods:{async verComprasPendientes(){const t=JSON.parse(localStorage.getItem("cliente"));if(null!==t){const e=t.identificacion,n=await this.axios.get("compra/ver_por_cliente/"+e+"/PENDIENTE");this.comprasPendientes=n.data}},async confirmarCompra(){const t={numero:this.comprasPendientes[0].numero},e=await this.axios.put("compra/confirmar",t);e&&(alert(e.data.mensaje),this.$router.push("/compras"))},verClientes(){this.$router.push("/")}}},_=p,h=(0,l.Z)(_,r,o,!1,null,null,null),v=h.exports}}]);
//# sourceMappingURL=386.65945caf.js.map